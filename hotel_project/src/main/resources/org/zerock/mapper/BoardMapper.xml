<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.zerock.mapper.BoardMapper">



	
	
	<select id="imageList" resultType="org.zerock.domain.MainVO">
			
				
		<![CDATA[
	
			select t.* from (select i.hotelFileName,n.hotelname, r.grade,r.reviewContent, r.reviewDate from hotel_image i, hotel n,review r where i.hotelNo = n.hotelNo and n.hotelNo=r.hotelNo order by r.grade desc) t where rownum<5
		
	
	
		]]>


	</select>

	<select id="myPageList" resultType="org.zerock.domain.MyPageVO">			
		<![CDATA[
	
	select m.memberNo, m.memberName, m.memberId, m.memberNickname, r.hotelNo, r.reservationNo, r.memberAmount, r.realMember, r.checkInDate, r.checkOutDate, h.hotelName, h.mainAddress, n.reviewId, n.reviewContent, n.reviewDate, i.hotelImageId, i.hotelFilename, w.wishListNo
	from member m, reservation r, hotel h, review n, hotel_image i, wishList w
	where m.memberNo = r.memberNo 
		and r.memberNo = n.memberNo 
		and n.memberNo = w.memberNo
		and h.hotelNo = r.hotelNo 
	    and h.hotelNo = n.hotelNo
	    and h.hotelNo = i.hotelNo
	    and i.hotelNo = w.hotelNo
		and m.memberNo = 1
		]]>
	</select>


</mapper>
