<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.zerock.mapper.MapMapper">






	<select id="mapSelect" resultType="org.zerock.domain.MapVO">


   <![CDATA[
	
		
	select t.* from (select h.hotelName,r.bedNo,AVG(v.grade),r.roomPrice from hotel h 
    left join review v on h.hotelNo = v.hotelNo 
    left join hotel_room r on h.hotelNo = r.hotelNo  
    where mainAddress=#{mainAddress}
    group by h.hotelName,r.bedNo,r.roomPrice) t 
    where rownum <15
		
		
		
	   ]]>
		


	</select>
	
	
	<insert id="insertInfo" >
 <![CDATA[
	
	 	insert into realhotel (realhotelno,state,realhotelname,wstroom,korroom,
	 	roadaddr,lotnoaddr,lat,logt,hotelcondition) values(realhotel_seq.nextval,#{state,jdbcType=VARCHAR},#{realhotelname, jdbcType=VARCHAR},#{wstroom, jdbcType=VARCHAR},#{korroom, jdbcType=VARCHAR},
	 	#{roadaddr, jdbcType=VARCHAR},#{lotnoaddr, jdbcType=VARCHAR},#{lat, jdbcType=VARCHAR},#{logt, jdbcType=VARCHAR},#{hotelcondition, jdbcType=VARCHAR})
	
	   ]]>
	 
	</insert>
	
	
	<select id="hotelList" resultType="org.zerock.domain.HotelApiVO">
	 <![CDATA[
			select * from realhotel
	 ]]>
	</select>



</mapper>
